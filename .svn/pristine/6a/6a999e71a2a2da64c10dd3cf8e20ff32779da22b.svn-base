<div id="keyboardforstandard" class="customkeyboard">
    
    <div class="keyboardpromptpanel">
        <div class="standardkeyboardprompt" style="display: inline-block"></div>
        <div class="standardkeyboardentry" style="display: inline-block; margin-left: 40px; color: #ffff00; font-weight: 300; "></div>
    </div>

    <div class="alphakeys" id="keyboardforstandardkeys">
        <div>#</div>
        <div>1</div>
        <div>2</div>
        <div>3</div>
        <div>4</div>
        <div>5</div>
        <div>6</div>
        <div>7</div>
        <div>8</div>
        <div>9</div>
        <div>0</div>
            
        <div style="width:150px">backspace</div>
        <br />
        <div>(</div>
        <div>_</div>
        <div class="letter">q</div>
        <div class="letter">w</div>
        <div class="letter">e</div>
        <div class="letter">r</div>
        <div class="letter">t</div>
        <div class="letter">y</div>
        <div class="letter">u</div>
        <div class="letter">i</div>
        <div class="letter">o</div>
        <div class="letter">p</div>
        <div>+</div>
        <div>)</div>
        <br />
        <div>%</div>
        <div>&#64;</div>
        <div class="letter">a</div>
        <div class="letter">s</div>
        <div class="letter">d</div>
        <div class="letter">f</div>
        <div class="letter">g</div>
        <div class="letter">h</div>
        <div class="letter">j</div>
        <div class="letter">k</div>
        <div class="letter">l</div>
        <div>-</div>
        <div>*</div>
        <br />
        
        <div>$</div>
        <div>&</div>
        <div>/</div>
        <div class="letter">z</div>
        <div class="letter">x</div>
        <div class="letter">c</div>
        <div class="letter">v</div>
        <div class="letter">b</div>
        <div class="letter">n</div>
        <div class="letter">m</div>
        <div>.</div>
        <div>,</div>
        <div>?</div>
        <div>!</div>
        <br />
        <div class="space">space</div>
        

    </div>
    
    <div class="clear standardkeyboardfunctionkey">clear</div>
    <div class="cancel standardkeyboardfunctionkey">cancel</div>


    <div class="okbutton standardkeyboardfunctionkey">OK</div>
    

</div>

<style>
    .keyboardpromptpanel 
    {
        position: absolute;
        font-family: Roboto;
        font-size: 24pt;
        font-weight: 100;
        margin-left: 20px;
        padding: 20px 0 0 0;
    }
    #keyboardforstandard {
        position: fixed;
        bottom: -520px;
        left: 0px;
        width: 100%;
        height: 520px;
        background-color: #111111; /*rgba(0,0,0,1);*/
    }
    #keyboardforstandard .alphakeys {
        position: relative;
        top: 83px;
        left: 300px;
        text-align: center;
        display: inline-block;
        
    }
    #keyboardforstandard .alphakeys div {
        padding: 15px 10px 12px 10px;
        margin: 1px;
        border: 1px solid rgba(255,255,255,0.5);
        min-width: 60px;
        height: 50px;
        display: inline-block;
        font-family: Roboto;
        font-size: 24pt;
        color: #fff;
        background-color: rgba(0,0,0,0.3);
        cursor: pointer;
    }
    #keyboardforstandard .alphakeys div.letter 
    {
        background-color: rgba(255,255,255,0.05);
    }
    #keyboardforstandard .alphakeys div.domain {
        padding: 25px 15px 5px 15px;
        margin: 5px 1px 1px 1px;
        border: 1px solid rgba(255,255,255,0.5);
        height: 50px;
        display: none;
        font-family: Roboto;
        font-size: 16pt;
        font-weight: 100;
        color: #ffff00;
        background-color: rgba(0,0,0,0.3);
        cursor: pointer;
        
        max-width: 140px;
    }
    #keyboardforstandard .alphakeys div.extention {
        padding: 25px 15px 5px 15px;
        margin: 5px 1px 1px 1px;
        border: 1px solid rgba(255,255,255,0.5);
        height: 50px;
        display: none;
        font-family: Roboto;
        font-size: 16pt;
        font-weight: 100;
        color: #ffff00;
        background-color: rgba(0,0,0,0.3);
        cursor: pointer;
        max-width: 140px;
    }
    #keyboardforstandard .alphakeys div.spacer {
        padding: 20px 10px 10px 10px;
        margin: 1px;
        border: none;
        width: 60px;
        height: 50px;
        display: inline-block;
        font-family: Arial;
        font-size: 24pt;
        color: #fff;
        cursor: default;
        background-color: rgba(0,0,0,0);
    }
    
    #keyboardforstandard .alphakeys div.space {
        padding: 20px 10px 10px 10px;
        margin: 3px;
        border: 1px solid rgba(255,255,255,0.5);
        width: 500px;
        height: 50px;
        display: inline-block;
        font-family: Arial;
        font-size: 24pt;
        color: #fff;
        background-color: rgba(0,0,0,0.3);
        
    }

    #keyboardforstandard .numerickeys {
        position: absolute;
        top: 20px;
        right: 20px;
        text-align: center;
        display: inline-block;
        margin-left: 100px;
    }
    #keyboardforstandard .numerickeys div {
        padding: 20px 10px 10px 10px;
        margin: 1px;
        border: 1px solid rgba(255,255,255,0.5);
        width: 60px;
        height: 50px;
        display: inline-block;
        font-family: Arial;
        font-size: 24pt;
        color: #fff;
        background-color: rgba(0,0,0,0.3);
        
    }
    
    .standardkeyboardfunctionkey 
    {
        position: absolute;
        padding: 25px 10px 2px 10px;
        margin: 1px;
        border: 1px solid rgba(255,255,255,0.5);
        width: 160px;
        height: 50px;
        display: inline-block;
        font-family: Roboto;
        font-size: 16pt;
        font-weight: 100;
        text-align: center;
        color: #fff;
        background-color: rgba(0,0,0,0.3);
    }
    
    #keyboardforstandard .clear { top: 83px; right:20px; }
    #keyboardforstandard .cancel { bottom: 0px; left: 0px; }
    #keyboardforstandard .okbutton { bottom: 0px; right: 0px; }
        
    .highlightedbutton 
    {
        background: #0099ff; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwOTlmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDgzZGIiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #0099ff 0%, #0083db 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#0099ff), color-stop(100%,#0083db)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #0099ff 0%,#0083db 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #0099ff 0%,#0083db 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #0099ff 0%,#0083db 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #0099ff 0%,#0083db 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0099ff', endColorstr='#0083db',GradientType=0 ); /* IE6-8 */    
        border: none;
    }
    .highlightedbutton:active  { background: white; color: black; }  
</style>

<script>

    var keyboardforstandardloaded = false;
    var keyboardforstandard_field = null;
    var standardkeyboarddomainkeypressed = false;
    var standardkeyboardextentionkeypressed = false;
    var standardkeyboardoriginalstring = '';

    function showKeyboardForStandard(field) {

        $('.customkeyboard').hide();

        $('.cancel').css('background-color', 'rgba(0,0,0,0.3)');
        $('.cancel').css('color', '#fff');

        
        $('#keyboardforstandard .alphakeys').css('left', 100);

        $('#keyboardforstandard').show();
        playSound(sfxbreeze);
        $('#keyboardforstandard').animate({ bottom: 0 }, 400);

        keyboardforstandard_field = field;

        $('.standardkeyboardprompt').html($(keyboardforstandard_field).attr('prompt'));
        standardkeyboardoriginalstring = $(keyboardforstandard_field).html();
        updateStandardKeyboardEntry(standardkeyboardoriginalstring);

        
        $(keyboardforstandard_field).css('border', 'thin solid rgba(255, 255, 255, 1)');

        if (!keyboardforstandardloaded) {

            var fn_touchstart = function () {
                if (!$(this).hasClass('nohighlight')) {
                    $(this).css('background-color', '#fff'); $(this).css('color', '#000');
                }
                if (!$(this).hasClass('noaction')) {
                    processStandardKeyboardKey(this);
                }
            };
            var fn_touchend = function () {
                if (!$(this).hasClass('nohighlight')) {
                    if ($(this).hasClass('letter')) {
                        $(this).css('background-color', 'rgba(255,255,255,0.05)'); $(this).css('color', '#fff');
                    }
                    else {
                        $(this).css('background-color', 'rgba(0,0,0,0.3)'); $(this).css('color', '#fff');
                    }
                }
            };

            if (getCookie('istouchscreen') === '1') {
                $('#keyboardforstandard .alphakeys div').on({ 'touchstart': fn_touchstart });
                $('#keyboardforstandard .alphakeys div').on({ 'touchend': fn_touchend });

                $('.standardkeyboardfunctionkey').on({ 'touchstart': fn_touchstart });
                $('.standardkeyboardfunctionkey').on({ 'touchend': fn_touchend });

            }
            else {
                //For NON-TOUCH mouse click support
                $('#keyboardforstandard .alphakeys div').on({ 'mousedown': fn_touchstart });
                $('#keyboardforstandard .alphakeys div').on({ 'mouseup': fn_touchend });

                $('.standardkeyboardfunctionkey').on({ 'mousedown': fn_touchstart });
                $('.standardkeyboardfunctionkey').on({ 'mouseup': fn_touchend });

            }
            keyboardforstandardloaded = true;
        }

        $('#keyboardbackground').show();
        $('#keyboardbackground').animate({ "opacity": 1 }, 1000);
    }

    function processStandardKeyboardKey(key) {

        if ($(key).hasClass('standardkeyboardfunctionkey')) {
            processStandardKeyboardFunctionKey(key);
            return;
        }

        var currentstring = $(keyboardforstandard_field).html();
        var newstring = currentstring;

        var char = $(key).html();

        switch ($.trim(char)) {
            case '&nbsp;':
                break;
            case 'space':
                newstring = currentstring + ' ';
                playSound(sfxclick);
                break;
            case 'backspace':
                if (newstring.length > 0) {
                    newstring = newstring.substring(0, newstring.length - 1);
                    playSound(sfxarrow);
                }
                break;
            default:
                playSound(sfxclick);
                newstring += char;
                break;
        }

        updateStandardKeyboardEntry(newstring);
        doStandardKeyboardPostKeyProcessing();
    }

    function updateStandardKeyboardEntry(newstring) {
        $(keyboardforstandard_field).html(newstring);
        $('.standardkeyboardentry').html(newstring);
        $(keyboardforstandard_field).val(newstring);
    }

    function processStandardKeyboardFunctionKey(key) {

        var currentstring = $(keyboardforstandard_field).html();
        var newstring = currentstring;

        var char = $(key).html();

        switch ($.trim(char).toLowerCase()) {
            case '&nbsp;':
                break;
            case 'clear':
                newstring = '';
                playSound(sfxvoltage);
                break;
            case 'cancel':
                updateStandardKeyboardEntry(standardkeyboardoriginalstring);
                $('.cancel').css('background-color', 'rgba(0,0,0,0.3)'); $('.cancel').css('color', '#fff');
                dismissKeyboardForStandard();
                return;
            case 'ok':
                $('.okbutton').css('background-color', 'rgba(0,0,0,0.3)'); $('.okbutton').css('color', '#fff');
                dismissKeyboardForStandard();
                return;
        }

        updateStandardKeyboardEntry(newstring);
        doStandardKeyboardPostKeyProcessing();
    }

    function doStandardKeyboardPostKeyProcessing() {

        var string = $(keyboardforstandard_field).html();

        if (string.length > 0) {
            $('.okbutton').addClass('highlightedbutton');
        }
        else {
            $('.okbutton').removeClass('highlightedbutton');
        }

    }
    function dismissKeyboardForStandard() {
        $(keyboardforstandard_field).css('border', 'thin solid rgba(255, 255, 255, 0.1)');
        keyboardforstandard_field = null;
        playSound(sfxwhoosh);
        $('#keyboardforstandard').animate({ bottom: '-' + $('#keyboardforstandard').css('height') }, 250);

        $('#keyboardbackground').css("opacity", 0);
        $('#keyboardbackground').hide();
    }
</script>
