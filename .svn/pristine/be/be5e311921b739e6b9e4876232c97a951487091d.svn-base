@{
    ViewBag.Title = "Reset Password";
}

<!--========================Reset Password========================================-->
<link href="~/Content/css/Assessment/assessment.css?v=@ViewBag.AppVersion" rel="Stylesheet" />

<div class="pageContainer blueBackground" id="resetPasswordPage">
    <div class="container">
        <div class="centerBox">
            <div class="row">
                <h1>Reset Password</h1>
                <form class="form-horizontal" role="form" method="POST">
                    <p>Please enter your email, and we will send you a new password by email.</p>
                    <div class="form-group">
                        <div class="col-sm-12">
                            <input type="email" class=" form-control required" name="email" id="email" value="" placeholder="Email">
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="button" id="resetBtn" class="btn btn-success resetBtn">Send me new password</button>
                    </div>
                </form>
                @{
                    if (ViewBag.Response != null)
                    {
                        <div class="errorForm">@ViewBag.Response</div>
                    }
                }
                <div><a href="/Account/Login/">Back to login page</a></div>
            </div>
        </div>
   </div>
</div>

<script>
    function document_ready() {
        $('#resetBtn').click(function () {
            var email = $('#email').val();
            if (validateEmail(email)) {
                $('form').submit();
            }
        });       
    }
    function validateEmail(email) {
        if (email) {
            var reg = /^(([^<>()[\]\\.,;:\s@@\"]+(\.[^<>()[\]\\.,;:\s@@\"]+)*)|(\".+\"))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            if (reg.test(email)) {
                return true;
            }
        }
        return false;
    }
</script>